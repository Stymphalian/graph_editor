@import 'tailwindcss';

/* Custom base styles for graph editor */
@layer base {
  html {
    font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }
  
  body {
    @apply bg-gray-50 text-gray-900;
  }
}

/* Custom component styles for graph editor */
@layer components {
  .graph-editor-layout {
    @apply min-h-screen bg-gradient-to-br from-gray-50 to-gray-100;
  }

  .graph-editor-header {
    @apply bg-white/80 backdrop-blur-sm shadow-sm border-b border-gray-200;
  }

  .graph-editor-main {
    @apply max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8;
  }

  .graph-editor-panel {
    @apply bg-white/90 backdrop-blur-sm rounded-lg shadow-lg border border-gray-200/50;
  }

  .graph-editor-controls {
    @apply bg-white/95 backdrop-blur-sm border border-gray-200/80 rounded-lg shadow-sm p-4 flex flex-col gap-4;
  }

  .graph-editor-button {
    @apply px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 outline-none;
  }

  .graph-editor-button:focus {
    @apply ring-2 ring-blue-500/50;
  }

  .graph-editor-button-primary {
    @apply px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 outline-none bg-blue-600 text-white hover:bg-blue-700 focus:ring-2 focus:ring-blue-500/50;
  }

  .graph-editor-button-secondary {
    @apply px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 outline-none bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-2 focus:ring-gray-500/50;
  }

  .graph-editor-button-danger {
    @apply px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 outline-none bg-red-500 text-white hover:bg-red-600 focus:ring-2 focus:ring-red-500/50;
  }

  .graph-editor-input {
    @apply block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500;
  }

  .graph-editor-input::placeholder {
    @apply text-gray-400;
  }

  .graph-editor-textarea {
    @apply block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm outline-none resize-none font-mono text-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500;
  }

  .graph-editor-textarea::placeholder {
    @apply text-gray-400;
  }

  .graph-editor-select {
    @apply block w-full px-3 py-2 pr-10 border border-gray-300 rounded-md shadow-sm outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500;
  }

  .graph-editor-select::placeholder {
    @apply text-gray-400;
  }

  .graph-editor-label {
    @apply block text-sm font-medium text-gray-700 mb-1;
  }

  .graph-editor-help-text {
    @apply text-xs text-gray-500 mt-1;
  }

  .text-panel {
    @apply bg-white/95 backdrop-blur-sm border border-gray-200/80 rounded-lg shadow-sm flex flex-col h-full p-4;
  }

  .text-panel-header {
    @apply flex justify-between items-center mb-3;
  }

  .text-panel-title {
    @apply text-sm font-medium text-gray-700;
  }

  .text-panel-status {
    @apply flex gap-2;
  }

  .text-panel-editing-indicator {
    @apply text-xs text-blue-600 font-medium;
  }

  .text-panel-error-indicator {
    @apply text-xs text-red-600 font-medium;
  }

  .text-panel-content {
    @apply flex-1;
  }

  .text-panel-editor {
    @apply flex border border-gray-300 rounded-md overflow-hidden flex-1;
  }

  .text-panel-line-numbers {
    @apply bg-gray-50 text-gray-500 font-mono px-2 py-2 border-r border-gray-300 overflow-hidden;
    font-size: 0.875rem;
    line-height: 1.5;
    white-space: pre;
    user-select: none;
    min-width: 2.5rem;
    text-align: right;
  }

  .text-panel-textarea {
    @apply flex-1 resize-none border-0 focus:ring-0 focus:outline-none font-mono;
    font-size: 0.875rem;
    line-height: 1.5;
  }

  .text-panel-textarea-error {
    @apply border-red-300 focus:border-red-500 focus:ring-red-500;
  }

  .text-panel-footer {
    @apply mt-3;
  }

  .graph-editor-error {
    @apply text-sm text-red-600 mt-1;
  }

  .graph-editor-success {
    @apply text-sm text-green-600 mt-1;
  }
}

/* Custom utility styles for graph editor */
@layer utilities {
  .graph-container {
    @apply relative w-full h-full overflow-hidden;
  }

  .graph-svg {
    @apply w-full h-full cursor-grab;
  }

  .graph-svg:active {
    @apply cursor-grabbing;
  }
}

.graph-node {
  cursor: pointer;
  user-select: none;
  transition: all 0.2s;
}

.graph-node:hover {
  stroke-width: 2px;
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
}

.graph-node-selected {
  stroke: #ef4444;
  stroke-width: 2px;
  filter: drop-shadow(0 4px 8px rgba(239, 68, 68, 0.3));
}

.graph-edge {
  stroke: #000000;
  stroke-width: 2px;
  fill: none;
  transition: all 0.2s;
}

.graph-edge:hover {
  stroke: #0ea5e9;
  stroke-width: 2px;
}

.graph-edge-selected {
  stroke: #ef4444;
  stroke-width: 2px;
}

.graph-label {
  font-family: Arial, sans-serif;
  pointer-events: none;
  user-select: none;
  text-anchor: middle;
}

.graph-node-label {
  font-family: Arial, sans-serif;
  pointer-events: none;
  user-select: none;
  font-size: 0.75rem;
  fill: black;
  text-anchor: middle;
}

.graph-edge-label {
  font-family: Arial, sans-serif;
  pointer-events: none;
  user-select: none;
  font-size: 0.75rem;
  fill: #000000;
  text-anchor: middle;
}

.graph-nib {
  width: 0.5rem;
  height: 0.5rem;
  border-radius: 50%;
  background-color: #3b82f6;
  border: 2px solid white;
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
}

.graph-nib:hover {
  background-color: #60a5fa;
  transform: scale(1.25);
}

.graph-nib-active {
  background-color: #ef4444;
  transform: scale(1.25);
}

.graph-preview-line {
  stroke: #3b82f6;
  stroke-width: 2px;
  fill: none;
  stroke-dasharray: 5, 5;
}

.graph-grid {
  stroke: #e5e7eb;
  stroke-width: 1px;
  fill: none;
}

.graph-grid-major {
  stroke: #d1d5db;
  stroke-width: 1px;
}

.graph-grid-minor {
  stroke: #f3f4f6;
  stroke-width: 0.5px;
}
